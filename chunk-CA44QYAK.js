import{a as q,b as K,c as J,d as Q,f as X,g as Y,h as Z,i as tt,j as et,m as ot}from"./chunk-JP3U4OWW.js";import{A,Aa as l,Ba as x,D as f,Da as G,E as b,Ga as $,Ia as M,K as k,La as U,Ma as j,R as F,Ra as N,S as r,Sa as V,V as E,Va as S,W as u,_ as h,a as v,b as w,cb as z,e as I,fa as a,ga as o,gb as W,ha as n,hb as nt,ia as _,ja as H,ka as R,ma as C,oa as O,pa as d,v as L,wa as T,x as D}from"./chunk-VBLFMEJU.js";function st(i,e){if(i&1){let t=C();o(0,"div")(1,"mat-card",2)(2,"mat-card-header")(3,"mat-card-title",3),l(4),n()(),_(5,"img",4),o(6,"mat-card-content")(7,"p"),l(8),n()(),o(9,"mat-card-footer",5)(10,"mat-card-content",6)(11,"p"),l(12),n()(),o(13,"mat-card-actions",7)(14,"button",8),l(15,"LIKE"),n(),o(16,"button",8),l(17,"SHARE"),n(),o(18,"button",9),O("click",function(){let m=f(t).$implicit,B=d();return b(B.onOpenBlog(m.id))}),l(19," Details anzeigen "),n()()()()()}if(i&2){let t=e.$implicit;r(4),x(t.title),r(),a("src",G("https://picsum.photos/seed/"+t.id+"/348/300"),F),r(3),x(t.contentPreview),r(4),x(t.author)}}var c=class c{constructor(){this.blogs=j.required();this.openBlog=U()}onOpenBlog(e){this.openBlog.emit(e)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=u({type:c,selectors:[["app-home"]],inputs:{blogs:[1,"blogs"]},outputs:{openBlog:"openBlog"},decls:2,vars:1,consts:[[1,"blog-container"],[4,"ngFor","ngForOf"],[1,"blog-card"],[1,"card-title"],["height","300","mat-card-image","","alt","Random Photo",1,"blog-image",3,"src"],[1,"blog-footer"],[1,"blog-author"],["align","end"],["mat-button",""],["mat-raised-button","","color","primary",3,"click"]],template:function(t,p){t&1&&(o(0,"div",0),h(1,st,20,5,"div",1),n()),t&2&&(r(),a("ngForOf",p.blogs()))},dependencies:[S,N,ot,K,X,Q,Z,Y,tt,J,et,W],styles:["[_nghost-%COMP%]   .blog-container[_ngcontent-%COMP%]{margin-right:auto;margin-left:auto;display:flex;flex-flow:row wrap;justify-content:flex-start;background:#fafbfc;border-radius:18px;box-shadow:0 6px 24px #00000012;padding:32px 0}[_nghost-%COMP%]   .blog-container[_ngcontent-%COMP%]   .blog-card[_ngcontent-%COMP%]{margin:.625rem;width:400px;border-radius:14px;box-shadow:0 4px 16px #0000001a;border:1.5px solid #e0e0e0;background:#fff}[_nghost-%COMP%]   .blog-container[_ngcontent-%COMP%]   .blog-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{min-height:4rem;font-size:22px;font-weight:600;color:#222}[_nghost-%COMP%]   .blog-container[_ngcontent-%COMP%]   .blog-card[_ngcontent-%COMP%]   .blog-image[_ngcontent-%COMP%]{border-radius:.8rem;margin:.8rem}[_nghost-%COMP%]   .blog-container[_ngcontent-%COMP%]   .blog-card[_ngcontent-%COMP%]   .blog-footer[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .blog-container[_ngcontent-%COMP%]   .blog-card[_ngcontent-%COMP%]   .blog-footer[_ngcontent-%COMP%]   .blog-author[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .blog-container[_ngcontent-%COMP%]   .blog-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:12px;border:2px solid #1976d2;border-radius:6px;background:#fff;color:#1976d2;transition:background .2s,color .2s;box-shadow:none;font-size:15px;padding:8px 16px}[_nghost-%COMP%]   .blog-container[_ngcontent-%COMP%]   .blog-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#e3f0fd;color:#0d47a1}@media screen and (min-width: 450px){[_nghost-%COMP%]   .blog-container[_ngcontent-%COMP%]{width:400px}}@media screen and (min-width: 841px){[_nghost-%COMP%]   .blog-container[_ngcontent-%COMP%]{width:840px}}@media screen and (min-width: 1261px){[_nghost-%COMP%]   .blog-container[_ngcontent-%COMP%]{width:1260px}}@media screen and (min-width: 1681px){[_nghost-%COMP%]   .blog-container[_ngcontent-%COMP%]{width:1680px}}"],changeDetection:0});var P=c;var s=class s{constructor(e){this.blogService=e;this.initialState={blogs:[],loading:!1,error:null};this.action$=new I;this.destroy$=new I;this.state=k(this.initialState);this.blogs=M(()=>this.state().blogs);this.loading=M(()=>this.state().loading);this.error=M(()=>this.state().error);this.action$.pipe(L(this.destroy$)).subscribe(t=>this.reduce(t))}dispatch(e){this.action$.next(e)}loadBlogs(){this.dispatch({type:"LOAD_BLOGS"}),this.blogService.getBlogs().subscribe({next:e=>this.dispatch({type:"LOAD_BLOGS_SUCCESS",blogs:e}),error:e=>this.dispatch({type:"LOAD_BLOGS_FAILURE",error:String(e?.message||e)})})}reduce(e){let t=this.state();switch(e.type){case"LOAD_BLOGS":{this.state.set(w(v({},t),{loading:!0,error:null}));break}case"LOAD_BLOGS_SUCCESS":{this.state.set({blogs:e.blogs,loading:!1,error:null});break}case"LOAD_BLOGS_FAILURE":{this.state.set(w(v({},t),{loading:!1,error:e.error}));break}}}destroy(){this.destroy$.next(),this.destroy$.complete()}};s.\u0275fac=function(t){return new(t||s)(A(nt))},s.\u0275prov=D({token:s,factory:s.\u0275fac,providedIn:"root"});var y=s;function gt(i,e){if(i&1){let t=C();H(0),o(1,"app-home",2),O("openBlog",function(m){f(t);let B=d();return b(B.onOpenBlog(m))}),n(),R()}if(i&2){let t=d();r(),a("blogs",t.blogs())}}function pt(i,e){i&1&&_(0,"app-spinner",3),i&2&&a("diameter",64)("strokeWidth",5)("fullscreen",!0)}var g=class g{constructor(e,t){this.blogStore=e;this.router=t;this.blogs=this.blogStore.blogs;this.loading=this.blogStore.loading}ngOnInit(){this.blogStore.loadBlogs()}onOpenBlog(e){this.router.navigate(["/blog",e])}};g.\u0275fac=function(t){return new(t||g)(E(y),E(z))},g.\u0275cmp=u({type:g,selectors:[["app-home-page"]],decls:3,vars:2,consts:[["loadingTpl",""],[4,"ngIf","ngIfElse"],[3,"openBlog","blogs"],[3,"diameter","strokeWidth","fullscreen"]],template:function(t,p){if(t&1&&h(0,gt,2,1,"ng-container",1)(1,pt,1,3,"ng-template",null,0,$),t&2){let m=T(2);a("ngIf",!p.loading())("ngIfElse",m)}},dependencies:[S,V,P,q],encapsulation:2,changeDetection:0});var rt=g;export{rt as HomePageComponent};
